<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Awareness Training</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background particles */
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.3; }
        }

        /* Warning overlay */
        .warning-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .warning-box {
            background: linear-gradient(145deg, #ff4757, #ff3742);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 600px;
            margin: 20px;
            box-shadow: 0 20px 40px rgba(255, 71, 87, 0.3);
            transform: scale(0.9);
            animation: warningPulse 2s ease-in-out infinite;
        }

        @keyframes warningPulse {
            0%, 100% { transform: scale(0.9); }
            50% { transform: scale(0.95); }
        }

        .warning-box h2 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .warning-box p {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .understand-btn {
            background: linear-gradient(145deg, #2ecc71, #27ae60);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(46, 204, 113, 0.3);
        }

        .understand-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(46, 204, 113, 0.4);
        }

        /* Main container */
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-width: 500px;
            width: 100%;
            text-align: center;
            z-index: 10;
            position: relative;
            transform: translateY(20px);
            opacity: 0;
            animation: slideIn 1s ease-out 0.5s forwards;
        }

        @keyframes slideIn {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 30px;
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2em;
            box-shadow: 0 10px 20px rgba(231, 76, 60, 0.3);
            animation: logoSpin 3s ease-in-out infinite;
        }

        @keyframes logoSpin {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(5deg); }
        }

        h1 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 20px;
            background: linear-gradient(145deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 1.1em;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .redirect-form {
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        label {
            display: block;
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        input[type="text"], input[type="url"], select {
            width: 100%;
            padding: 15px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: white;
        }

        input[type="text"]:focus, input[type="url"]:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }

        .redirect-btn {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .redirect-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }

        .redirect-btn:active {
            transform: translateY(-1px);
        }

        /* Ripple effect */
        .redirect-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .redirect-btn:active::before {
            width: 300px;
            height: 300px;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            display: block;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .disclaimer {
            background: rgba(255, 193, 7, 0.1);
            border: 2px solid rgba(255, 193, 7, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            color: #856404;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .disclaimer strong {
            color: #dc3545;
        }

        /* Loading animation */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .loading-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top: 5px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive design */
        @media (max-width: 600px) {
            .container {
                margin: 20px;
                padding: 30px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .warning-box {
                padding: 30px;
                margin: 10px;
            }
            
            .warning-box h2 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <!-- Animated background particles -->
    <div class="particles" id="particles"></div>

    <!-- Warning overlay -->
    <div class="warning-overlay" id="warningOverlay">
        <div class="warning-box">
            <h2>⚠️ SECURITY TESTING TOOL</h2>
            <p>
                <strong>This redirection site is designed for:</strong><br>
                • Authorized security testing<br>
                • Employee phishing awareness training<br>
                • Educational purposes only<br><br>
                <strong>Use only on systems you own or have explicit permission to test!</strong>
            </p>
            <button class="understand-btn" onclick="hideWarning()">I Understand - Continue</button>
        </div>
    </div>

    <!-- Loading overlay -->
    <div class="loading" id="loading">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3>Redirecting...</h3>
            <p>Preparing secure connection...</p>
        </div>
    </div>

    <!-- Main container -->
    <div class="container">
        <div class="logo">🔒</div>
        <h1>Security Test Portal</h1>
        <p class="subtitle">Advanced redirection testing platform for authorized security assessments</p>

        <form class="redirect-form" id="redirectForm">
            <div class="form-group">
                <label for="targetUrl">Target URL:</label>
                <input type="url" id="targetUrl" name="targetUrl" placeholder="https://example.com" required>
            </div>

            <div class="form-group">
                <label for="delay">Redirect Delay (seconds):</label>
                <select id="delay" name="delay">
                    <option value="0">Immediate</option>
                    <option value="1">1 second</option>
                    <option value="3" selected>3 seconds</option>
                    <option value="5">5 seconds</option>
                    <option value="10">10 seconds</option>
                </select>
            </div>

            <div class="form-group">
                <label for="method">Redirect Method:</label>
                <select id="method" name="method">
                    <option value="javascript" selected>JavaScript</option>
                    <option value="meta">Meta Refresh</option>
                    <option value="form">Form POST</option>
                    <option value="iframe">Hidden iFrame</option>
                </select>
            </div>

            <div class="form-group">
                <label for="userAgent">Custom User Agent (optional):</label>
                <input type="text" id="userAgent" name="userAgent" placeholder="Leave empty for default">
            </div>

            <button type="submit" class="redirect-btn">
                🚀 Execute Redirect Test
            </button>
        </form>

        <div class="stats">
            <div class="stat-item">
                <span class="stat-number" id="redirectCount">0</span>
                <div class="stat-label">Redirects</div>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="testsSaved">0</span>
                <div class="stat-label">Tests Saved</div>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="uptime">0s</span>
                <div class="stat-label">Uptime</div>
            </div>
        </div>

        <div class="disclaimer">
            <strong>⚠️ Legal Disclaimer:</strong> This tool is intended for authorized security testing, penetration testing, 
            and employee awareness training only. Users must ensure they have proper authorization before conducting any tests. 
            Unauthorized use may violate local, state, and federal laws. The creators assume no responsibility for misuse.
        </div>
    </div>

    <script>
        // Global variables
        let redirectCount = parseInt(localStorage.getItem('redirectCount') || '0');
        let testsSaved = parseInt(localStorage.getItem('testsSaved') || '0');
        let startTime = Date.now();

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            updateStats();
            startUptime();
            loadSavedTest();
        });

        // Create animated background particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Hide warning overlay
        function hideWarning() {
            document.getElementById('warningOverlay').style.display = 'none';
        }

        // Handle form submission
        document.getElementById('redirectForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const targetUrl = document.getElementById('targetUrl').value;
            const delay = parseInt(document.getElementById('delay').value);
            const method = document.getElementById('method').value;
            const userAgent = document.getElementById('userAgent').value;

            // Validate URL
            if (!isValidUrl(targetUrl)) {
                alert('Please enter a valid URL');
                return;
            }

            // Save test data
            saveTestData(targetUrl, delay, method, userAgent);

            // Show loading
            document.getElementById('loading').style.display = 'block';

            // Execute redirect based on method
            setTimeout(() => {
                executeRedirect(targetUrl, method, userAgent);
            }, delay * 1000);

            // Update stats
            redirectCount++;
            localStorage.setItem('redirectCount', redirectCount.toString());
            updateStats();
        });

        // Validate URL
        function isValidUrl(string) {
            try {
                new URL(string);
                return true;
            } catch (_) {
                return false;
            }
        }

        // Execute redirect
        function executeRedirect(url, method, userAgent) {
            // Log the redirect attempt
            console.log(`Redirecting to: ${url} using method: ${method}`);

            switch (method) {
                case 'javascript':
                    window.location.href = url;
                    break;

                case 'meta':
                    const metaTag = document.createElement('meta');
                    metaTag.setAttribute('http-equiv', 'refresh');
                    metaTag.setAttribute('content', `0;url=${url}`);
                    document.head.appendChild(metaTag);
                    break;

                case 'form':
                    const form = document.createElement('form');
                    form.method = 'POST';
                    form.action = url;
                    form.style.display = 'none';
                    document.body.appendChild(form);
                    form.submit();
                    break;

                case 'iframe':
                    const iframe = document.createElement('iframe');
                    iframe.src = url;
                    iframe.style.display = 'none';
                    document.body.appendChild(iframe);
                    // Also redirect main window after a short delay
                    setTimeout(() => {
                        window.location.href = url;
                    }, 2000);
                    break;

                default:
                    window.location.href = url;
            }
        }

        // Save test data
        function saveTestData(url, delay, method, userAgent) {
            const testData = {
                url: url,
                delay: delay,
                method: method,
                userAgent: userAgent,
                timestamp: new Date().toISOString(),
                browserInfo: {
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    language: navigator.language,
                    cookieEnabled: navigator.cookieEnabled,
                    onLine: navigator.onLine
                }
            };

            // Save to memory (localStorage simulation)
            const savedTests = JSON.parse(localStorage.getItem('savedTests') || '[]');
            savedTests.push(testData);
            localStorage.setItem('savedTests', JSON.stringify(savedTests));

            testsSaved++;
            localStorage.setItem('testsSaved', testsSaved.toString());

            console.log('Test data saved:', testData);
        }

        // Load saved test
        function loadSavedTest() {
            const savedTests = JSON.parse(localStorage.getItem('savedTests') || '[]');
            if (savedTests.length > 0) {
                const lastTest = savedTests[savedTests.length - 1];
                document.getElementById('targetUrl').value = lastTest.url || '';
                document.getElementById('delay').value = lastTest.delay || '3';
                document.getElementById('method').value = lastTest.method || 'javascript';
                document.getElementById('userAgent').value = lastTest.userAgent || '';
            }
        }

        // Update statistics
        function updateStats() {
            document.getElementById('redirectCount').textContent = redirectCount;
            document.getElementById('testsSaved').textContent = testsSaved;
        }

        // Start uptime counter
        function startUptime() {
            setInterval(() => {
                const uptime = Math.floor((Date.now() - startTime) / 1000);
                const hours = Math.floor(uptime / 3600);
                const minutes = Math.floor((uptime % 3600) / 60);
                const seconds = uptime % 60;

                let uptimeString = '';
                if (hours > 0) uptimeString += hours + 'h ';
                if (minutes > 0) uptimeString += minutes + 'm ';
                uptimeString += seconds + 's';

                document.getElementById('uptime').textContent = uptimeString;
            }, 1000);
        }

        // Export test data (for analysis)
        function exportTestData() {
            const savedTests = JSON.parse(localStorage.getItem('savedTests') || '[]');
            const dataStr = JSON.stringify(savedTests, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `redirect_test_data_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl+E to export data
            if (e.ctrlKey && e.key === 'e') {
                e.preventDefault();
                exportTestData();
            }
            
            // Ctrl+R to reset stats
            if (e.ctrlKey && e.key === 'r') {
                e.preventDefault();
                if (confirm('Reset all statistics and saved data?')) {
                    localStorage.clear();
                    location.reload();
                }
            }
        });

        // Add context menu for advanced options
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            
            const contextMenu = document.createElement('div');
            contextMenu.innerHTML = `
                <div style="position: fixed; top: ${e.clientY}px; left: ${e.clientX}px; 
                           background: white; border: 1px solid #ccc; border-radius: 5px; 
                           padding: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 3000;">
                    <div onclick="exportTestData()" style="cursor: pointer; padding: 5px;">📊 Export Test Data</div>
                    <div onclick="location.reload()" style="cursor: pointer; padding: 5px;">🔄 Reload Page</div>
                    <div onclick="console.log(localStorage)" style="cursor: pointer; padding: 5px;">🔍 View Storage</div>
                </div>
            `;
            
            document.body.appendChild(contextMenu);
            
            setTimeout(() => {
                if (contextMenu.parentNode) {
                    contextMenu.parentNode.removeChild(contextMenu);
                }
            }, 3000);
        });

        // Console commands for advanced users
        console.log(`
🔧 SECURITY TESTING CONSOLE COMMANDS:
• exportTestData() - Export all test data
• clearData() - Clear all saved data  
• viewStats() - View detailed statistics
• simulateRedirect(url) - Test redirect without form

⚠️  Remember: Use only for authorized testing!
        `);

        // Helper functions for console
        window.clearData = function() {
            localStorage.clear();
            location.reload();
        };

        window.viewStats = function() {
            const data = {
                redirectCount: redirectCount,
                testsSaved: testsSaved,
                uptime: Date.now() - startTime,
                savedTests: JSON.parse(localStorage.getItem('savedTests') || '[]')
            };
            console.table(data);
            return data;
        };

        window.simulateRedirect = function(url) {
            if (confirm(`Simulate redirect to: ${url}?`)) {
                executeRedirect(url, 'javascript', '');
            }
        };
    </script>
</body>
</html>
